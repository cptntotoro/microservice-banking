# Сервис обналичивания денег (Cash Service)

Cash Service — это реактивный микросервис, предназначенный для обработки операций пополнения и снятия средств со счетов. Сервис интегрируется с другими микросервисами (например, Accounts Service, Blocker Service, Notifications Service) для выполнения операций в реальном времени, обеспечивая проверку счетов, блокировку подозрительных операций и отправку уведомлений.

## Основные возможности

- Пополнение счета (DEPOSIT): Обработка запросов на пополнение счета с проверкой валидности счета и пользователя, а также блокировкой подозрительных операций.
- Снятие средств (WITHDRAWAL): Обработка запросов на снятие средств с учетом проверки достаточности баланса, валидности счета и пользователя, а также блокировкой подозрительных операций.
- Интеграция с внешними сервисами:
- Проверка операций на мошенничество через Blocker Service.
- Верификация счетов и обновление баланса через Accounts Service.
- Отправка уведомлений через Notifications Service.
- Реактивная обработка: Использование Project Reactor для асинхронной обработки операций.
- Логирование и мониторинг: Поддержка метрик и логов через Spring Boot Actuator и Consul для обнаружения сервисов.

## Поддерживаемые типы операций

- DEPOSIT: Пополнение счета.
- WITHDRAWAL: Снятие средств со счета.

## Сборка и запуск

1. Убедитесь, что у вас запущен Docker Desktop
2. Соберите сервис (компиляция + тесты)

`mvn clean install -pl cash-service`

3. Запустите Consul:

`docker-compose -f docker-compose-consul.yml up -d consul-server`

4. Запустите сервис

`java -jar cash-service/target/cash-service.jar`